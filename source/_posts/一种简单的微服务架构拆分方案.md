---
title: 一种简单的微服务架构拆分方案
date: 2017-05-28 23:31:48
tags: 'SPRING CLOUD'
categories: 架构
---

架构拆分

拆分：按行分层，按列分业务

在这个微服务体系中，所有的服务被划分为了三个层次：

1. 基础设施层：为所有业务提供基础设施，包括服务注册、数据库和NoSQL、对象存储、消息队列等基础设施服务，这一层通常是由成熟组件、第三方服务组成。
2. 业务服务层：业务微服务，根据业务领域每个子域单独一个微服务，分而治之。
3. 接入层：直接对外提供服务，例如网站、API接口等。接入层不包含复杂的业务逻辑，只做呈现和转换。

项目中我们主要关注业务服务层和接入层，对于没有足够运维力量的团队，基础设施使用云服务是省事省力的选择。

对于业务服务层和接入层建立之初便订立了如下原则：

1. **业务逻辑层内所有服务完全对等，可相互调用**
2. 业务逻辑层所有服务必须是无状态的
3. **接入层所有服务可调用业务逻辑层所有服务，但接入层内部同层服务之间不可调用**
4. 接入层不能包含业务逻辑代码
5. 所有微服务必须运行在Docker容器里

业务逻辑层主要使用Java（Spring cloud），接入层主要使用Node。